!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("into-pipes")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","into-pipes"],t):t(e["flexible-preview-box"]={},e.ng.core,e.ng.common,e.intoPipes)}(this,function(e,t,o,n){"use strict";var i=function(){function e(){this.aboveData=[],this.belowData=[],this.onselect=new t.EventEmitter}return e.prototype.ngOnInit=function(){var t=this;this.metadata&&this.metadata.map(function(e){"above"===e.position?t.aboveData.push(e):"below"===e.position&&t.belowData.push(e)})},e.prototype.ngOnChanges=function(e){},e.prototype.itemValue=function(e,t){var o=e;return t.map(function(e){o&&(o=o[e])}),o===undefined||null===o||"null"===o?"":String(o)},e.prototype.rowContent=function(e){var t=this.itemValue(this.item,e.key.split("."));return t!==undefined&&null!=t?t:""},e.prototype.hoverOver=function(e){this.largeImage&&this.effects.zoomOnHover&&e.target.nodeName},e.prototype.hoverOut=function(e){this.largeImage&&(this.largeImage.nativeElement.style.opacity=0,this.largeImage.nativeElement.style.top="-10000px",this.largeImage.nativeElement.style.left="-10000px")},e.prototype.hoverViewPort=function(e){this.largeImage&&this.effects.zoomOnHover&&(this.largeImage.nativeElement.style.opacity=1,this.largeImage.nativeElement.style.top=-e.layerY+"px",this.largeImage.nativeElement.style.left=-e.layerX+"px")},e.prototype.keyup=function(e){13===e.which&&e.target.click()},e.prototype.selectItem=function(e){this.onselect.emit({item:this.item,selected:!0,action:"redirect"})},e.prototype.videoPlayed=function(e){},e.prototype.videoPaused=function(e){},e.prototype.videoEnded=function(e){},e.prototype.onComponentChange=function(e){this.onselect.emit(e)},e}();i.decorators=[{type:t.Component,args:[{selector:"flexible-preview-box",template:'<div class="above-viewport" [style.max-width]="effects.width ? (effects.width + \'px\') : \'auto\'">\n    <div *ngFor="let row of aboveData"\n        class="box-row"\n        [style.margin-top]="row.spacing ? (row.spacing + \'px\') : \'0\'"\n        [class.left]="row.side === \'left\'"\n        [class.right]="row.side === \'right\'"\n        [class.center]="row.side === \'center\'"\n        [class.emphasize]="row.emphasize"\n        [class.side-by-side]="row.sidebyside">\n        <span class="label" [class.off-screen]="row.hidelabel" [textContent]="row.value"></span>\n        <span class="value" [intoName]="row.value"\n            [intoId]="row.key + \'-\' + i"\n            [into]="row.format"\n            [intoData]="item"\n            [rawContent]="rowContent(row)"\n            [onComponentChange]="onComponentChange.bind(this)"></span>\n    </div>\n    <div class="clearblock"></div>\n</div>\n<div\n    class="viewport"\n    tabindex="0"\n    [title]="item.name"\n    [style.width]="effects.width + \'px\'"\n    [style.height]="effects.height + \'px\'"\n    (keyup)="keyup($event)"\n    (click)="selectItem($event)"\n    (mouseout)="hoverOut($event)"\n    (mouseover)="hoverOver($event)"\n    (mousemove)="hoverViewPort($event)">\n    <img  class="content"\n            [src]="viewport.src.small"\n            *ngIf="viewport.type === \'image\'" />\n    <img  class="hover" #largeImage\n            [style.width]="(effects.width*2) + \'px\'"\n            [style.height]="(effects.height*2) + \'px\'"\n            [src]="viewport.src.large"\n            *ngIf="effects.zoomOnHover" />\n    <video\n        class="content" #video\n        [style.width]="effects.width + \'px\'"\n        [style.height]="effects.height + \'px\'"\n        (play)="videoPlayed(video.currentTime)"\n        (pause)="videoPaused(video.currentTime)"\n        (ended)="videoEnded(video.currentTime)"\n        *ngIf="viewport.type === \'video\'" controls>\n        <source [src]="viewport.src.mp4" type="video/mp4">\n        <source [src]="viewport.src.webm" type="video/webm">\n        <source [src]="viewport.src.egg" type="video/ogg">\n    </video>\n</div>\n<div class="below-viewport" [style.max-width]="effects.width ? (effects.width + \'px\') : \'auto\'">\n    <div *ngFor="let row of belowData"\n        class="box-row"\n        [style.margin-top]="row.spacing ? (row.spacing + \'px\') : \'0\'"\n        [class.left]="row.side === \'left\'"\n        [class.right]="row.side === \'right\'"\n        [class.center]="row.side === \'center\'"\n        [class.emphasize]="row.emphasize"\n        [class.side-by-side]="row.sidebyside">\n        <span class="label" [class.off-screen]="row.hidelabel" [textContent]="row.value"></span>\n        <span class="value" [intoName]="row.value"\n            [intoId]="row.key + \'-\' + i"\n            [into]="row.format"\n            [intoData]="item"\n            [rawContent]="rowContent(row)"\n            [onComponentChange]="onComponentChange.bind(this)"></span>\n    </div>\n    <div class="clearblock"></div>\n</div>',styles:[":host{background-color:#fff;border:1px solid #ced4da;-webkit-box-sizing:border-box;box-sizing:border-box;display:table;min-height:50px;padding:0;border-radius:5px;margin:5px}:host ::ng-deep .rating{color:red}:host .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}:host .box-row{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}:host .box-row .label{float:left;font-weight:700;margin-right:5px}:host .box-row .value{float:left}:host .box-row.left{text-align:left}:host .box-row.right .label{font-weight:700;-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:right}:host .box-row.center{width:inherit;display:table;margin:auto}:host .box-row.emphasize{font-weight:700;font-size:1.8rem}:host .box-row.side-by-side{max-width:250px;width:inherit;display:table;float:right;margin:0 5px}:host .above-viewport{padding:5px;-webkit-box-sizing:border-box;box-sizing:border-box}:host .viewport{border-color:#880500;-webkit-box-sizing:border-box;box-sizing:border-box;border-top:1px solid #bcd;border-bottom:1px solid #bcd;min-height:150px;overflow:hidden;position:relative;margin:0 auto;box-sizing:border-box}:host .viewport img.content{margin:auto;display:table}:host .viewport video.content{margin:auto;display:table}:host .viewport .hover{position:absolute;background-color:#fff;top:-10000px;left:-10000px;opacity:0;pointer-events:none}:host .viewport:hover{border-color:#f1523c}:host .below-viewport{padding:5px;-webkit-box-sizing:border-box;box-sizing:border-box}.clearblock{clear:both;display:block;width:100%;height:0;padding:0;margin:0}:host:focus{border-color:#0ba}:host:hover{border-color:#f1523c}"]}]}],i.ctorParameters=function(){return[]},i.propDecorators={largeImage:[{type:t.ViewChild,args:["largeImage"]}],onselect:[{type:t.Output,args:["onselect"]}],item:[{type:t.Input,args:["item"]}],viewport:[{type:t.Input,args:["viewport"]}],metadata:[{type:t.Input,args:["metadata"]}],effects:[{type:t.Input,args:["effects"]}]};var r=function(){};r.decorators=[{type:t.NgModule,args:[{imports:[o.CommonModule,n.IntoPipeModule],declarations:[i],exports:[i],entryComponents:[],schemas:[t.CUSTOM_ELEMENTS_SCHEMA]}]}],r.ctorParameters=function(){return[]},e.FlexiblePreviewBoxComponent=i,e.FlexiblePreviewBoxModule=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=flexible-preview-box.umd.min.js.map
