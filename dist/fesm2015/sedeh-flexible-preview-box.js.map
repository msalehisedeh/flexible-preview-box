{"version":3,"file":"sedeh-flexible-preview-box.js","sources":["ng://@sedeh/flexible-preview-box/src/app/flexible-preview-box/components/flexible-preview-box.component.ts","ng://@sedeh/flexible-preview-box/src/app/flexible-preview-box/flexible-preview-box.module.ts","ng://@sedeh/flexible-preview-box/sedeh-flexible-preview-box.ts"],"sourcesContent":["\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  ViewChild,\r\n  ElementRef,\r\n  EventEmitter\r\n} from '@angular/core';\r\n\r\nexport interface ViewPort {\r\n  type: string,\r\n  poster?: string,\r\n  src: {\r\n\tsmall?: string,\r\n\tlarge?: string,\r\n    egg?: string,\r\n    mp4?: string,\r\n    webm?: string\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'flexible-preview-box',\r\n  templateUrl: './flexible-preview-box.component.html',\r\n  styleUrls: ['./flexible-preview-box.component.scss'],\r\n})\r\nexport class FlexiblePreviewBoxComponent implements OnInit {\r\n  \r\n  aboveData = [];\r\n  belowData = [];\r\n  \r\n  @ViewChild(\"largeImage\", {static: false})\r\n\tprivate largeImage: ElementRef;\r\n\r\n  @ViewChild(\"video\", {static: false})\r\n\tprivate video: ElementRef;\r\n\r\n  @Output() onselect= new EventEmitter()\r\n  @Output() onaction= new EventEmitter()\r\n\r\n  @Input() item: any;\r\n  @Input() viewport: ViewPort;\r\n  @Input() metadata: any[];\r\n  @Input() effects: any;\r\n  @Input() enableMobileMagnification = true;\r\n  @Input() magnificationFactor = 2;\r\n\r\n  ngOnInit() {\r\n    if (this.metadata) {\r\n      this.metadata.map ( (data) => {\r\n        if (data.position === 'above') {\r\n          this.aboveData.push(data);\r\n        }else if (data.position === 'below') {\r\n          this.belowData.push(data);\r\n        }\r\n      })\r\n    }\r\n    if (this.magnificationFactor < 2)  {\r\n      this.magnificationFactor = 2;\r\n    }\r\n  }\r\n\r\n  private itemValue(item: any, hpath: any[]) {\r\n\t\tlet subitem = item;\r\n\t\thpath.map( (subkey) => {\r\n\t\t\tif (subitem) {\r\n\t\t\t\tsubitem = subitem[subkey];\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn subitem === undefined || subitem === null || subitem === \"null\" ? \"\" : String(subitem);\r\n\t}\r\n\r\n  rowContent(row: any) {\r\n    if (row.rawContent) {\r\n      return row.rawContent(this.item);\r\n    }\r\n    let content = this.itemValue(this.item, row.key.split(\".\"));\r\n    return (content !== undefined && content != null) ? content : '';\r\n  }\r\n\r\n  touchstart(event: any) {\r\n\t\tif (this.enableMobileMagnification && this.largeImage && this.effects.zoomOnHover) {\r\n      const img = event.target.children[0];\r\n      if (img) {\r\n        const rect = img.getBoundingClientRect();\r\n        this.largeImage.nativeElement.style.width = (this.magnificationFactor * rect.width) + 'px';\r\n        this.largeImage.nativeElement.style.height = (this.magnificationFactor * rect.height) + 'px';\r\n        img.style.visibility = 'hidden';\r\n      }\r\n      this.onaction.emit({action: 'viewport', type: event.type, item: this.item});\r\n    }\r\n  }\r\n  touchmove(event: any) {\r\n\t\tif (this.enableMobileMagnification && this.largeImage && this.effects.zoomOnHover) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      const img = event.target.children[0];\r\n      const viewR = img.parentNode.getBoundingClientRect();\r\n      const rect = img.getBoundingClientRect();\r\n      const width =  event.touches[0].clientX - viewR.x;\r\n      const height =  event.touches[0].clientY - viewR.y;\r\n      const dx = (this.effects.width - rect.width)*(this.magnificationFactor/2);\r\n      const dy = (this.effects.height - rect.height)*(this.magnificationFactor/2);\r\n      const y = height * (this.magnificationFactor - 1);\r\n      const x = width * (this.magnificationFactor - 1);\r\n\t\t\tthis.largeImage.nativeElement.style.top = (-y + dy) + \"px\";\r\n\t\t\tthis.largeImage.nativeElement.style.left = (-x + dx) + \"px\";\r\n\t\t\tthis.largeImage.nativeElement.style.opacity = 1;\r\n      this.onaction.emit({\r\n        action: 'viewport',\r\n        type: event.type,\r\n        position: {Y: x, X: y},\r\n        item: this.item\r\n      });\r\n\t\t}\r\n  }\r\n  touchend(event: any) {\r\n\t\tif (this.enableMobileMagnification && this.largeImage) {\r\n      const img = event.target.children[0];\r\n      img.style.visibility = 'visible';\r\n\t\t\tthis.largeImage.nativeElement.style.opacity = 0;\r\n\t\t\tthis.largeImage.nativeElement.style.top = \"-10000px\";\r\n      this.largeImage.nativeElement.style.left = \"-10000px\";\r\n      this.onaction.emit({action: 'viewport',type: event.type, item: this.item});\r\n\t\t}\r\n  }\r\n\r\n  hoverOver(event: any) {\r\n\t\tif (this.largeImage && this.effects.zoomOnHover) {\r\n      const img = event.target.children[0];\r\n      if (img) {\r\n        const rect = img.getBoundingClientRect();\r\n        this.largeImage.nativeElement.style.width = (this.magnificationFactor * rect.width) + 'px';\r\n        this.largeImage.nativeElement.style.height = (this.magnificationFactor * rect.height) + 'px';\r\n        img.style.visibility = 'hidden';\r\n      }\r\n      this.onaction.emit({action: 'viewport', type: event.type, item: this.item});\r\n    }\r\n\t}\r\n\thoverOut(event: any) {\r\n\t\tif (this.largeImage) {\r\n      const img = event.target.children[0];\r\n      img.style.visibility = 'visible';\r\n\t\t\tthis.largeImage.nativeElement.style.opacity = 0;\r\n\t\t\tthis.largeImage.nativeElement.style.top = \"-10000px\";\r\n      this.largeImage.nativeElement.style.left = \"-10000px\";\r\n      this.onaction.emit({action: 'viewport',type: event.type, item: this.item});\r\n\t\t}\r\n\t}\r\n\thoverViewPort(event: any) {\r\n\t\tif (this.largeImage && this.effects.zoomOnHover) {\r\n      const img = event.target.children[0];\r\n      const rect = img.getBoundingClientRect();\r\n      const dx = (this.effects.width - rect.width)*(this.magnificationFactor/2);\r\n      const dy = (this.effects.height - rect.height)*(this.magnificationFactor/2);\r\n      const y = event.layerY * (this.magnificationFactor - 1);\r\n      const x = event.layerX * (this.magnificationFactor - 1);\r\n\t\t\tthis.largeImage.nativeElement.style.top = (-y + dy) + \"px\";\r\n\t\t\tthis.largeImage.nativeElement.style.left = (-x + dx) + \"px\";\r\n\t\t\tthis.largeImage.nativeElement.style.opacity = 1;\r\n      this.onaction.emit({\r\n        action: 'viewport',\r\n        type: event.type,\r\n        position: {Y: x, X: y},\r\n        item: this.item\r\n      });\r\n\t\t}\r\n\t}\r\n  updateControls(event: any) {\r\n    if (this.video) {\r\n      this.video.nativeElement.play();\r\n    }\r\n  }\r\n  resetControls(event: any) {\r\n      if (this.video && this.isPlaying(this.video.nativeElement)) {\r\n        this.video.nativeElement.pause();\r\n      }\r\n  }\r\n  private isPlaying(video: any) {\r\n      return !!(video.currentTime > 0 && !video.paused && !video.ended && video.readyState > 2);\r\n  }\r\n  keyup(event: any) {\r\n    const code = event.which;\r\n    if (code === 13) {\r\n      event.target.click();\r\n    }\r\n  }\r\n  selectItem(event: any) {\r\n    this.onselect.emit({\r\n      action: \"redirect\",\r\n      type: 'select',\r\n      item: this.item\r\n    });\r\n  }\r\n  videoEvent(event: any) {\r\n    this.onaction.emit({\r\n      action: 'video',\r\n      type: event.type,\r\n      item: {\r\n          autoplay: event.target.autoplay,\r\n          controls: event.target.controls,\r\n          duration: event.target.duration,\r\n          ended: event.target.ended,\r\n          error: event.target.error,\r\n          paused: event.target.paused,\r\n          muted: event.target.muted,\r\n          currentTime: event.target.currentTime,\r\n          volume: event.target.volume\r\n      }\r\n  });\r\n  }\r\n  onComponentChange(event) {\r\n    if (event.action && event.type && event.item) {\r\n      this.onaction.emit(event);\r\n    } else {\r\n      this.onaction.emit({action: event.name, type: event.item, item: this.item});\r\n    }\r\n  }\r\n  defaultAction() {\r\n    // do nothing\r\n  }\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IntoPipeModule } from '@sedeh/into-pipes';\r\n\r\nimport { FlexiblePreviewBoxComponent } from './components/flexible-preview-box.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IntoPipeModule\r\n  ],\r\n  declarations: [\r\n    FlexiblePreviewBoxComponent\r\n  ],\r\n  exports: [\r\n    FlexiblePreviewBoxComponent\r\n  ],\r\n  entryComponents: [\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class FlexiblePreviewBoxModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["tslib_1.__decorate"],"mappings":";;;;;IA4Ba,2BAA2B,GAAxC,MAAa,2BAA2B;IALxC;QAOE,cAAS,GAAG,EAAE,CAAC;QACf,cAAS,GAAG,EAAE,CAAC;QAQL,aAAQ,GAAE,IAAI,YAAY,EAAE,CAAA;QAC5B,aAAQ,GAAE,IAAI,YAAY,EAAE,CAAA;QAM7B,8BAAyB,GAAG,IAAI,CAAC;QACjC,wBAAmB,GAAG,CAAC,CAAC;KAgLlC;IA9KC,QAAQ;QACN,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAG,CAAC,IAAI;gBACvB,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;oBAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC3B;qBAAK,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;oBACnC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC3B;aACF,CAAC,CAAA;SACH;QACD,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC,EAAG;YACjC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;SAC9B;KACF;IAEO,SAAS,CAAC,IAAS,EAAE,KAAY;QACzC,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,KAAK,CAAC,GAAG,CAAE,CAAC,MAAM;YACjB,IAAI,OAAO,EAAE;gBACZ,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;aAC1B;SACD,CAAC,CAAA;QACF,OAAO,OAAO,KAAK,SAAS,IAAI,OAAO,KAAK,IAAI,IAAI,OAAO,KAAK,MAAM,GAAG,EAAE,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;KAC9F;IAEA,UAAU,CAAC,GAAQ;QACjB,IAAI,GAAG,CAAC,UAAU,EAAE;YAClB,OAAO,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAClC;QACD,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;QAC5D,OAAO,CAAC,OAAO,KAAK,SAAS,IAAI,OAAO,IAAI,IAAI,IAAI,OAAO,GAAG,EAAE,CAAC;KAClE;IAED,UAAU,CAAC,KAAU;QACrB,IAAI,IAAI,CAAC,yBAAyB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YAC/E,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,GAAG,EAAE;gBACP,MAAM,IAAI,GAAG,GAAG,CAAC,qBAAqB,EAAE,CAAC;gBACzC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC;gBAC3F,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC;gBAC7F,GAAG,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;aACjC;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;SAC7E;KACF;IACD,SAAS,CAAC,KAAU;QACpB,IAAI,IAAI,CAAC,yBAAyB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YAC/E,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,KAAK,GAAG,GAAG,CAAC,UAAU,CAAC,qBAAqB,EAAE,CAAC;YACrD,MAAM,IAAI,GAAG,GAAG,CAAC,qBAAqB,EAAE,CAAC;YACzC,MAAM,KAAK,GAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC;YAClD,MAAM,MAAM,GAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC;YACnD,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,KAAG,IAAI,CAAC,mBAAmB,GAAC,CAAC,CAAC,CAAC;YAC1E,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAG,IAAI,CAAC,mBAAmB,GAAC,CAAC,CAAC,CAAC;YAC5E,MAAM,CAAC,GAAG,MAAM,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;YAClD,MAAM,CAAC,GAAG,KAAK,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;YACpD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC;YAC3D,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC;YAC5D,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;YAC7C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACjB,MAAM,EAAE,UAAU;gBAClB,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,QAAQ,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;gBACtB,IAAI,EAAE,IAAI,CAAC,IAAI;aAChB,CAAC,CAAC;SACN;KACA;IACD,QAAQ,CAAC,KAAU;QACnB,IAAI,IAAI,CAAC,yBAAyB,IAAI,IAAI,CAAC,UAAU,EAAE;YACnD,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrC,GAAG,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;YACpC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;YAChD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,UAAU,CAAC;YAClD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;YACtD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,UAAU,EAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;SAC9E;KACA;IAED,SAAS,CAAC,KAAU;QACpB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YAC7C,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,GAAG,EAAE;gBACP,MAAM,IAAI,GAAG,GAAG,CAAC,qBAAqB,EAAE,CAAC;gBACzC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC;gBAC3F,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC;gBAC7F,GAAG,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;aACjC;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;SAC7E;KACH;IACD,QAAQ,CAAC,KAAU;QAClB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrC,GAAG,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;YACpC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;YAChD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,UAAU,CAAC;YAClD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;YACtD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,UAAU,EAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;SAC9E;KACD;IACD,aAAa,CAAC,KAAU;QACvB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YAC7C,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,IAAI,GAAG,GAAG,CAAC,qBAAqB,EAAE,CAAC;YACzC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,KAAG,IAAI,CAAC,mBAAmB,GAAC,CAAC,CAAC,CAAC;YAC1E,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAG,IAAI,CAAC,mBAAmB,GAAC,CAAC,CAAC,CAAC;YAC5E,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;YACxD,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;YAC3D,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC;YAC3D,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC;YAC5D,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;YAC7C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACjB,MAAM,EAAE,UAAU;gBAClB,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,QAAQ,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;gBACtB,IAAI,EAAE,IAAI,CAAC,IAAI;aAChB,CAAC,CAAC;SACN;KACD;IACA,cAAc,CAAC,KAAU;QACvB,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;SACjC;KACF;IACD,aAAa,CAAC,KAAU;QACpB,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE;YAC1D,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SAClC;KACJ;IACO,SAAS,CAAC,KAAU;QACxB,OAAO,CAAC,EAAE,KAAK,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;KAC7F;IACD,KAAK,CAAC,KAAU;QACd,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;QACzB,IAAI,IAAI,KAAK,EAAE,EAAE;YACf,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;SACtB;KACF;IACD,UAAU,CAAC,KAAU;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;YACjB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,QAAQ;YACd,IAAI,EAAE,IAAI,CAAC,IAAI;SAChB,CAAC,CAAC;KACJ;IACD,UAAU,CAAC,KAAU;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;YACjB,MAAM,EAAE,OAAO;YACf,IAAI,EAAE,KAAK,CAAC,IAAI;YAChB,IAAI,EAAE;gBACF,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,QAAQ;gBAC/B,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,QAAQ;gBAC/B,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,QAAQ;gBAC/B,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK;gBACzB,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK;gBACzB,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,MAAM;gBAC3B,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK;gBACzB,WAAW,EAAE,KAAK,CAAC,MAAM,CAAC,WAAW;gBACrC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,MAAM;aAC9B;SACJ,CAAC,CAAC;KACF;IACD,iBAAiB,CAAC,KAAK;QACrB,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,EAAE;YAC5C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3B;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;SAC7E;KACF;IACD,aAAa;;KAEZ;CACF,CAAA;AA7LAA;IADE,SAAS,CAAC,YAAY,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC;+DACX;AAG/BA;IADE,SAAS,CAAC,OAAO,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC;0DACX;AAEfA;IAAT,MAAM,EAAE;6DAA6B;AAC5BA;IAAT,MAAM,EAAE;6DAA6B;AAE7BA;IAAR,KAAK,EAAE;yDAAW;AACVA;IAAR,KAAK,EAAE;6DAAoB;AACnBA;IAAR,KAAK,EAAE;6DAAiB;AAChBA;IAAR,KAAK,EAAE;4DAAc;AACbA;IAAR,KAAK,EAAE;8EAAkC;AACjCA;IAAR,KAAK,EAAE;wEAAyB;AAnBtB,2BAA2B;IALvC,SAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;QAChC,y1IAAoD;;KAErD,CAAC;GACW,2BAA2B,CAmMvC;;ICzMY,wBAAwB,GAArC,MAAa,wBAAwB;CAAG,CAAA;AAA3B,wBAAwB;IAhBpC,QAAQ,CAAC;QACR,OAAO,EAAE;YACP,YAAY;YACZ,cAAc;SACf;QACD,YAAY,EAAE;YACZ,2BAA2B;SAC5B;QACD,OAAO,EAAE;YACP,2BAA2B;SAC5B;QACD,eAAe,EAAE,EAChB;QACD,OAAO,EAAE,CAAC,sBAAsB,CAAC;KAClC,CAAC;GAEW,wBAAwB,CAAG;;ACtBxC;;GAEG;;;;"}